(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8644:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return P}});var r={};function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function f(t,e){if(e&&("object"===d(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}n.r(r);var p=n(7294),h=n(6628),m=n(4061),y=n(3489),v=n(5697),g=n.n(v);function b(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var E=function(t){l(n,t);var e=b(n);function n(t){var r;return o(this,n),(r=e.call(this,t)).state={updated:!1},r.loading=!0,r.changeQuantity=r.changeQuantity.bind(u(r)),r}return i(n,[{key:"sortById",value:function(t){return t.sort((function(t,e){return t.id-e.id}))}},{key:"changeQuantity",value:function(t){this.props.updateProduct(t)}},{key:"componentDidMount",value:function(){this.props.getProducts(),this.loading=!1}},{key:"componentDidUpdate",value:function(t){t.products!==this.props.products&&this.setState({updated:!0})}},{key:"render",value:function(){var t=this,e=this.sortById(this.props.products);return this.loading?p.createElement("h1",null,"LOADING"):p.createElement("div",{id:"products-table"},p.createElement("h3",null,"Products"),p.createElement("table",{id:"products-table"},p.createElement("tbody",null,p.createElement("tr",null,p.createElement("th",null,"Id"),p.createElement("th",null,"Product"),p.createElement("th",null,"Category"),p.createElement("th",null,"Quantity"),p.createElement("th",null)),e.map((function(e){return p.createElement("tr",{key:e.id},p.createElement("td",null,e.id),p.createElement("td",null,e.name),p.createElement("td",null,e.category),p.createElement("td",null,p.createElement("input",{className:"change-quantity",type:"number",value:e.quantity,onChange:function(n){return t.changeQuantity({id:e.id,name:e.name,category:e.category,quantity:n.target.value})}})))})))))}}]),n}(p.Component);E.propTypes={getProducts:g().func,updateProduct:g().func,products:g().array};(0,h.$j)((function(t){return{products:t.products}}),(function(t){return{getProducts:function(){return t((0,m.R)())},updateProduct:function(e){return t((0,y.nM)(e))}}}))(E);var O=n(4942);function w(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var _=function(t){l(n,t);var e=w(n);function n(t){var r;return o(this,n),(r=e.call(this,t)).state={name:"",category:"miscellaneous",quantity:1,imageUrl:""},r.productCategories=["produce","meats","dairy","household","frozen","pasta","seafood","bakery","baking","medical","office","spices","condiments","bath","miscellaneous"],r.handleChange=r.handleChange.bind(u(r)),r.handleSubmit=r.handleSubmit.bind(u(r)),r}return i(n,[{key:"handleChange",value:function(t){this.setState((0,O.Z)({},t.target.name,t.target.value))}},{key:"handleSubmit",value:function(t){t.preventDefault(),this.props.addProduct(this.state),this.setState({name:"",category:"miscellaneous",quantity:1,imageUrl:""})}},{key:"render",value:function(){return p.createElement("form",{id:"new-product-form",onSubmit:this.handleSubmit},p.createElement("h3",null,"Create a New Product"),p.createElement("div",{className:"new-product-input"},p.createElement("label",{htmlFor:"name"},"Name: "),p.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange,required:!0})),p.createElement("div",{className:"new-product-input"},p.createElement("label",{htmlFor:"category"},"Category: "),p.createElement("select",{id:"category",name:"category",value:this.state.category,onChange:this.handleChange},p.createElement("option",{value:""},"--Choose a Category--"),this.productCategories.map((function(t,e){return p.createElement("option",{key:e,value:t},t)})))),p.createElement("div",{className:"new-product-input"},p.createElement("label",{htmlFor:"quantity"},"Quantity: "),p.createElement("input",{type:"number",name:"quantity",value:this.state.quantity,min:"1",max:"100",step:"1",onChange:this.handleChange})),p.createElement("div",{className:"new-product-input"},p.createElement("label",{htmlFor:"imageUrl"},"Image URL: "),p.createElement("input",{type:"url",name:"imageUrl",placeholder:"Enter an optional image URL",value:this.state.imageUrl,onChange:this.handleChange})),p.createElement("input",{type:"submit",value:"Create"}),p.createElement("p",null,"Note: Attempting to add an existing item will only alter the quantity thereof in the database."))}}]),n}(p.Component);_.propTypes={addProduct:g().func};(0,h.$j)(null,(function(t){return{addProduct:function(e){return t((0,y.gK)(e))}}}))(_);function C(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}Object(function(){var t=new Error("Cannot find module 'd3'");throw t.code="MODULE_NOT_FOUND",t}()),Object(function(){var t=new Error("Cannot find module 'd3'");throw t.code="MODULE_NOT_FOUND",t}());var k=function(t){l(n,t);var e=T(n);function n(t){var r;return o(this,n),(r=e.call(this,t)).loading=!0,r.createTree=r.createTree.bind(u(r)),r}return i(n,[{key:"createTree",value:function(){var t=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.path,r=e.id,o=void 0===r?Array.isArray(t)?function(t){return t.id}:null:r,a=e.parentId,i=void 0===a?Array.isArray(t)?function(t){return t.parentId}:null:a,u=e.children,c=e.value,l=e.sort,d=void 0===l?function(t,e){return Object(function(){var t=new Error("Cannot find module 'd3'");throw t.code="MODULE_NOT_FOUND",t}())(t.value,e.value)}:l,f=e.label,s=e.group,p=e.title,h=e.link,m=e.linkTarget,y=void 0===m?"_blank":m,v=e.tile,g=void 0===v?Object(function(){var t=new Error("Cannot find module 'd3'");throw t.code="MODULE_NOT_FOUND",t}()):v,b=e.width,E=void 0===b?640:b,O=e.height,w=void 0===O?400:O,_=e.margin,C=void 0===_?0:_,N=e.marginTop,T=void 0===N?C:N,k=e.marginRight,P=void 0===k?C:k,U=e.marginBottom,j=void 0===U?C:U,D=e.marginLeft,R=void 0===D?C:D,S=e.padding,x=void 0===S?1:S,L=e.paddingInner,A=void 0===L?x:L,I=e.paddingOuter,M=void 0===I?x:I,F=e.paddingTop,q=void 0===F?M:F,B=e.paddingRight,Q=void 0===B?M:B,z=e.paddingBottom,W=void 0===z?M:z,$=e.paddingLeft,G=void 0===$?M:$,X=e.round,H=void 0===X||X,K=e.colors,V=void 0===K?Object(function(){var t=new Error("Cannot find module 'd3'");throw t.code="MODULE_NOT_FOUND",t}()):K,Y=e.zDomain,Z=e.fill,J=void 0===Z?"#ccc":Z,tt=e.fillOpacity,et=void 0===tt?null==s?null:.6:tt,nt=e.stroke,rt=e.strokeWidth,ot=e.strokeOpacity,at=e.strokeLinejoin,it=null!=n?Object(function(){var t=new Error("Cannot find module 'd3'");throw t.code="MODULE_NOT_FOUND",t}())().path(n)(t):null!=o||null!=i?Object(function(){var t=new Error("Cannot find module 'd3'");throw t.code="MODULE_NOT_FOUND",t}())().id(o).parentId(i)(t):Object(function(){var t=new Error("Cannot find module 'd3'");throw t.code="MODULE_NOT_FOUND",t}())(t,u);null==c?it.count():it.sum((function(t){return Math.max(0,c(t))}));var ut=it.leaves(),ct=null==s?null:ut.map((function(t){return s(t.data,t)}));void 0===Y&&(Y=ct),Y=new Object(function(){var t=new Error("Cannot find module 'd3'");throw t.code="MODULE_NOT_FOUND",t}())(Y);var lt=null==s?null:Object(function(){var t=new Error("Cannot find module 'd3'");throw t.code="MODULE_NOT_FOUND",t}())(Y,V),dt=null==f?null:ut.map((function(t){return f(t.data,t)})),ft=void 0===p?dt:null==p?null:ut.map((function(t){return p(t.data,t)}));null!=d&&it.sort(d),Object(function(){var t=new Error("Cannot find module 'd3'");throw t.code="MODULE_NOT_FOUND",t}())().tile(g).size([E-R-P,w-T-j]).paddingInner(A).paddingTop(q).paddingRight(Q).paddingBottom(W).paddingLeft(G).round(H)(it);var st=Object(function(){var t=new Error("Cannot find module 'd3'");throw t.code="MODULE_NOT_FOUND",t}())("svg").attr("viewBox",[-R,-T,E,w]).attr("width",E).attr("height",w).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("font-family","sans-serif").attr("font-size",10),pt=st.selectAll("a").data(ut).join("a").attr("xlink:href",null==h?null:function(t,e){return h(t.data,t)}).attr("target",null==h?null:y).attr("transform",(function(t){return"translate(".concat(t.x0,",").concat(t.y0,")")}));if(pt.append("rect").attr("fill",lt?function(t,e){return lt(ct[e])}:J).attr("fill-opacity",et).attr("stroke",nt).attr("stroke-width",rt).attr("stroke-opacity",ot).attr("stroke-linejoin",at).attr("width",(function(t){return t.x1-t.x0})).attr("height",(function(t){return t.y1-t.y0})),ft&&pt.append("title").text((function(t,e){return ft[e]})),dt){var ht="O-".concat(Math.random().toString(16).slice(2));pt.append("clipPath").attr("id",(function(t,e){return"".concat(ht,"-clip-").concat(e)})).append("rect").attr("width",(function(t){return t.x1-t.x0})).attr("height",(function(t){return t.y1-t.y0})),pt.append("text").attr("clip-path",(function(t,e){return"url(".concat(new URL("#".concat(ht,"-clip-").concat(e),location),")")})).selectAll("tspan").data((function(t,e){return"".concat(dt[e]).split(/\n/g)})).join("tspan").attr("x",3).attr("y",(function(t,e,n){return"".concat(.3*(e===n.length-1)+1.1+.9*e,"em")})).attr("fill-opacity",(function(t,e,n){return e===n.length-1?.7:null})).text((function(t){return t}))}return Object.assign(st.node(),{scales:{color:lt}})}(this.props.products&&this.props.products.length>0?this.props.products:[{id:0,name:"Loading",category:"Loading",quantity:1}],{path:function(t){return t.name},value:function(t){return null===t||void 0===t?void 0:t.quantity},group:function(t){return t.category},label:function(t){return[t.name,t.quantity.toString()].join("\n")},width:1e3,height:500}),e=document.getElementById("app"),n=document.querySelectorAll("svg");if(n){var r,o=C(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;e.removeChild(a)}}catch(i){o.e(i)}finally{o.f()}}e.appendChild(t)}},{key:"componentDidMount",value:function(){this.props.setProducts(),this.loading=!1}},{key:"componentDidUpdate",value:function(t){t.products!==this.props.products&&(this.loading=!1)}},{key:"render",value:function(){return this.createTree(),this.loading?p.createElement("h1",null,"LOADING"):p.createElement("div",null)}}]),n}(p.Component);k.propTypes={products:g().array,setProducts:g().func};(0,h.$j)((function(t){return{products:t.products}}),(function(t){return{setProducts:function(){return t((0,m.R)())}}}))(k);var P=function(){return React.createElement("div",{id:"admin-view"},React.createElement("h1",null,"Marketplace Analytics"),React.createElement("div",{id:"admin-products-display"},React.createElement(r.AllProducts,null),React.createElement(r.NewProduct,null)),React.createElement(r.ProductTreemap,null))}},8581:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8644)}])},2703:function(t,e,n){"use strict";var r=n(414);function o(){}function a(){}a.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,a,i){if(i!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},5697:function(t,e,n){t.exports=n(2703)()},414:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},function(t){t.O(0,[888,774,179],(function(){return e=8581,t(t.s=e);var e}));var e=t.O();_N_E=e}]);